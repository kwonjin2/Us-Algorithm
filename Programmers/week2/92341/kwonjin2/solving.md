# 📝 Solving: 주차 요금 계산 (92341)

## 문제 요약

- fees: [기본시간, 기본요금, 단위시간, 단위요금]

- records: "HH:MM 차량번호 IN/OUT" 형식의 배열 → 하루 동안의 입차/출차 기록

- 조건:

  - 차량별 누적 주차 시간 계산
  - 입차 후 출차가 없는 차량 → 23:59 출차로 간주
  - 차량번호 작은 순서대로 요금 계산
  - 주차 요금 계산:
    - 누적시간 ≤ 기본시간 → 기본요금
    - 누적시간 > 기본시간 →
    - 기본요금 + ⌈(누적시간 - 기본시간) / 단위시간⌉ \* 단위요금
    - 시간 단위 나누어 떨어지지 않으면 올림

- 출력: 차량번호 오름차순으로 청구할 주차 요금 정수 배열 반환

## 접근 방법

- 이 문제는 차량의 입출차 내역을 기반으로 주차 요금을 계산하는 문제이다.
- 먼저 차량이 주차장에 있었던 시간을 계산하기 위해 Map 자료구조를 쓰려고 한다.

- IN일 경우 현재 시각을 inTime에 저장하고 OUT일 경우 totalTime에 현재 시각 - inTime을 한 값에 넣어주면 number 번호인 차량이 주차장에 있었던 총 시간(분)을 구할 수 있다.

- 이를 위해 먼저 records를 순회하며 split을 통해 공백 기준으로 분리하고, 구조분해 할당을 통해 time, number, action을 저장해준다.

- 또, time을 통해 총 몇 분에 차량이 들어오고 나갔는지를 계산하기 위해 split(':')으로 h, m으로 구조분해할당 해주고 총 minutes를 구해준다. (h\*60+m) 그럼 현재 차가 들어온 시간을 분으로 환산한 값이 저장된다.

- 이를 action이 IN일 때, parking map에 저장해준 뒤, action이 OUT일 때, parking map에서 가져온 값을 통해 계산한 뒤, totalTime에 저장해준다.

- 그리고 이제 IN은 했지만 OUT은 안한 미출차 차량에 대해 계산을 해야한다. 지문에서 나와있듯 미출차 차량은 23:59분에 나간 것으로 처리되어야 한다. parking에서 inTime이 있다는 것은 미출차 차량이라는 뜻이다.
  parking map을 순회하면서 inTime이 있는 경우엔 23:59분에서 inTime을 빼준 값을 totalTime에 넣어줘야한다.

- 이제 parking map에는 차량이 있었던 총 시간이 계산된 totalTime이 있다. 이를 이용해서 주차요금을 계산해야한다.
  먼저 주차요금이 들어갈 빈 배열이 담긴 answers 변수를 만들어준다. 이 배열에는 차량번호 기준 오름차순으로 주차요금이 들어가야한다. 즉 parking map을 차량기준으로 오름차순 정렬해야한다. 이를 sortedParking이라는 변수에 담아준다.

- 마지막으로 정렬된 parking map을 순회하면서 주차요금에 맞게 금액을 계산해야한다. 계산 공식은 아래와 같다.
  주차요금 = 기본요금 + ((총 주차시간 - 기본시간) / 단위시간) \* 단위요금

- 이때, ((총 주차시간 - 기본시간) / 단위시간)이 나누어 떨어지지 않는다면 올림하라는 지문이 있었기에 Math.ceil을 사용해줄 것이다. 또한, 누적 주차 시간이 기본시간보다 작다면 기본요금을 청구해야한다.

- answer.push(totalMoney)를 해주고 마지막으로 모든 순회가 끝나고 answer를 리턴해준다.
